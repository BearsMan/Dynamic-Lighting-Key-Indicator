<Window
    x:Class="Dynamic_Lighting_Key_Indicator.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Dynamic_Lighting_Key_Indicator"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="Dynamic-Lighting-Key-Indicator">
    <Grid HorizontalAlignment="Center" VerticalAlignment="Center" Padding="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="20" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="20" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="10" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="20" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="20" />
            <!-- Color settings section -->
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Existing controls -->
        <TextBlock x:Name="watcherStatusText" 
                   Grid.Row="0" 
                   Text="{x:Bind ViewModel.DeviceWatcherStatusMessage, Mode=OneWay}"
                   HorizontalAlignment="Center"/>

        <StackPanel Orientation="Horizontal" 
                    Grid.Row="2" 
                    HorizontalAlignment="Center">
            <Button x:Name="buttonStartWatch" 
                    Click="buttonStartWatch_Click"
                    IsEnabled="{x:Bind ViewModel.IsWatcherStopped, Mode=OneWay}">
                <StackPanel Orientation="Horizontal">
                    <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE768;" Margin="0,0,8,0"/>
                    <TextBlock Text="Start Monitoring"/>
                </StackPanel>
            </Button>
            <Button x:Name="buttonStopWatch" 
                    Click="buttonStopWatch_Click"
                    Margin="10,0,0,0"
                    IsEnabled="{x:Bind ViewModel.IsWatcherRunning, Mode=OneWay}">
                <StackPanel Orientation="Horizontal">
                    <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE71A;" Margin="0,0,8,0"/>
                    <TextBlock Text="Stop Monitoring"/>
                </StackPanel>
            </Button>
        </StackPanel>

        <ComboBox x:Name="dropdownDevices" 
                  Grid.Row="4" 
                  Width="300"
                  HorizontalAlignment="Center"
                  PlaceholderText="Select a device"
                  SelectedIndex="{x:Bind ViewModel.SelectedDeviceIndex, Mode=TwoWay}"
                  Visibility="{x:Bind ViewModel.WatcherRunningVisibilityBool, Mode=OneWay}"/>

        <Button x:Name="buttonApply" 
                Click="buttonApply_Click" 
                Grid.Row="6"
                HorizontalAlignment="Center"
                Visibility="{x:Bind ViewModel.WatcherRunningVisibilityBool, Mode=OneWay}"
                IsEnabled="{x:Bind ViewModel.HasNoAttachedDevices, Mode=OneWay}">
            <StackPanel Orientation="Horizontal">
                <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE8FB;" Margin="0,0,8,0"/>
                <TextBlock Text="Apply To Device"/>
            </StackPanel>
        </Button>

        <TextBlock x:Name="statusText" 
                   Grid.Row="8" 
                   Text="{x:Bind ViewModel.DeviceStatusMessage, Mode=OneWay}"
                   HorizontalAlignment="Center"/>

        <TextBlock x:Name="attachedDevices"
                   Grid.Row="9"
                   Text="{x:Bind ViewModel.AttachedDevicesMessage, Mode=OneWay}"
                   HorizontalAlignment="Center"
                   Visibility="{x:Bind ViewModel.WatcherRunningVisibilityBool, Mode=OneWay}"/>

        <!-- Simple Color Settings Grid -->
        <Grid Grid.Row="11" Margin="0,20,0,0" HorizontalAlignment="Center">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="120"/>
                <ColumnDefinition Width="120"/>
            </Grid.ColumnDefinitions>

            <!-- Header Labels -->
            <TextBlock Grid.Row="0" Grid.Column="0" Text="Key" FontWeight="Bold" Margin="0,0,10,5"/>
            <TextBlock Grid.Row="0" Grid.Column="1" Text="On Color" FontWeight="Bold" Margin="5,0,5,5"/>
            <TextBlock Grid.Row="0" Grid.Column="2" Text="Off Color" FontWeight="Bold" Margin="5,0,5,5"/>

            <!-- Scroll Lock -->
            <TextBlock Grid.Row="1" Grid.Column="0" Text="Scroll Lock:" VerticalAlignment="Center" Margin="0,5,10,5"/>
            <TextBox x:Name="textScrollOnColor"  Grid.Row="1" Grid.Column="1" Margin="5,2" Text="{x:Bind ViewModel.TextScrollLockOnColor, Mode=TwoWay}"/>
            <TextBox x:Name="textScrollOffColor" Grid.Row="1" Grid.Column="2" Margin="5,2" Text="{x:Bind ViewModel.TextScrollLockOffColor, Mode=TwoWay}"/>

            <!-- Caps Lock -->
            <TextBlock Grid.Row="2" Grid.Column="0" Text="Caps Lock:" VerticalAlignment="Center" Margin="0,5,10,5"/>
            <TextBox x:Name="textCapsOnColor" Grid.Row="2" Grid.Column="1" Margin="5,2" Text="{x:Bind ViewModel.TextCapsLockOnColor, Mode=TwoWay}"/>
            <TextBox x:Name="textCapsOffColor" Grid.Row="2" Grid.Column="2" Margin="5,2" Text="{x:Bind ViewModel.TextCapsLockOffColor, Mode=TwoWay}"/>

            <!-- Num Lock -->
            <TextBlock Grid.Row="3" Grid.Column="0" Text="Num Lock:" VerticalAlignment="Center" Margin="0,5,10,5"/>
            <TextBox x:Name="textNumOnColor" Grid.Row="3" Grid.Column="1" Margin="5,2" Text="{x:Bind ViewModel.TextNumLockOnColor, Mode=TwoWay}"/>
            <TextBox x:Name="textNumOffColor" Grid.Row="3" Grid.Column="2" Margin="5,2" Text="{x:Bind ViewModel.TextNumLockOffColor, Mode=TwoWay}"/>

            <!-- Default Color -->
            <TextBlock Grid.Row="4" Grid.Column="0" Text="Default:" VerticalAlignment="Center" Margin="0,5,10,5"/>
            <TextBox x:Name="textDefaultColor" Grid.Row="4" Grid.Column="1" Margin="5,2" Text="{x:Bind ViewModel.TextDefaultColor, Mode=TwoWay}"/>

            <!-- Brightness -->
            <TextBlock Grid.Row="5" Grid.Column="0" Text="Brightness:" VerticalAlignment="Center" Margin="0,5,10,5"/>
            <TextBox x:Name="textBrightness" Grid.Row="5" Grid.Column="1" PlaceholderText="0-100" Margin="5,2" Text="{x:Bind ViewModel.ColorSettings.Brightness, Mode=TwoWay}"/>

        </Grid>

        <!-- Save Button -->
        <Button Grid.Row="12" 
                Margin="0,20,0,0"
                HorizontalAlignment="Center"
                Click="buttonSaveColors_Click">
            <StackPanel Orientation="Horizontal">
                <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE74E;" Margin="0,0,8,0"/>
                <TextBlock Text="Save Color Settings"/>
            </StackPanel>
        </Button>
    </Grid>
</Window>